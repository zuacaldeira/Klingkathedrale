<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Klangkathedrale — Helmuth Rilling (1933–2026)</title>
<meta name="description" content="Ein digitales Denkmal für den großen Bach-Dirigenten Helmuth Rilling">
<meta property="og:title" content="Klangkathedrale — Helmuth Rilling (1933–2026)">
<meta property="og:description" content="Ein digitales Denkmal für den großen Bach-Dirigenten">
<meta property="og:type" content="website">
<meta name="theme-color" content="#C9A84C">
<link rel="manifest" href="manifest.json">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,opsz,wght@0,6..96,400;0,6..96,700;0,6..96,900;1,6..96,400;1,6..96,700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400;1,600&family=EB+Garamond:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --color-gold: #C9A84C;
  --color-ink: #1A1410;
  --color-ivory: #F5F0E8;
  --color-parchment: #EDE6D6;
  --color-rose: #D4725C;
  --color-sage: #6B9080;
  --color-amethyst: #8B7EC8;
  --color-amber: #C8956E;
  --color-steel: #7BA0B8;
  --font-display: 'Bodoni Moda', serif;
  --font-body: 'Cormorant Garamond', serif;
  --font-serif: 'EB Garamond', serif;
}

html { scroll-behavior: smooth; }

body {
  background: var(--color-ink);
  color: var(--color-ivory);
  font-family: var(--font-body);
  line-height: 1.7;
  overflow-x: hidden;
}

/* ═══ NAVIGATION ═══ */
nav {
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 1000;
  padding: 1rem 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(to bottom, rgba(26,20,16,0.95), rgba(26,20,16,0));
  transition: background 0.4s;
}
nav.scrolled { background: rgba(26,20,16,0.97); backdrop-filter: blur(10px); }
nav .logo {
  font-family: var(--font-display);
  font-size: 1.2rem;
  color: var(--color-gold);
  letter-spacing: 0.15em;
  text-transform: uppercase;
  text-decoration: none;
}
nav .nav-links { display: flex; gap: 1.5rem; align-items: center; }
nav .nav-links a {
  color: rgba(245,240,232,0.6);
  text-decoration: none;
  font-family: var(--font-body);
  font-size: 0.95rem;
  letter-spacing: 0.05em;
  transition: color 0.3s;
}
nav .nav-links a:hover { color: var(--color-gold); }
.menu-toggle {
  display: none;
  background: none; border: none;
  color: var(--color-gold);
  font-size: 1.5rem;
  cursor: pointer;
}

/* ═══ HERO / OVERTURE ═══ */
#overture {
  position: relative;
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  overflow: hidden;
}
#particle-canvas {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: 0;
}
.hero-content {
  position: relative;
  z-index: 1;
  animation: fadeInUp 2s ease-out;
}
.hero-overline {
  font-family: var(--font-body);
  font-size: 1rem;
  letter-spacing: 0.4em;
  text-transform: uppercase;
  color: rgba(201,168,76,0.7);
  margin-bottom: 1rem;
}
.hero-title {
  font-family: var(--font-display);
  font-size: clamp(2.5rem, 8vw, 6rem);
  font-weight: 400;
  color: var(--color-gold);
  letter-spacing: 0.05em;
  line-height: 1.1;
  margin-bottom: 0.5rem;
}
.hero-subtitle {
  font-family: var(--font-display);
  font-size: clamp(1.2rem, 3vw, 2rem);
  font-weight: 400;
  font-style: italic;
  color: var(--color-ivory);
  opacity: 0.8;
  margin-bottom: 0.5rem;
}
.hero-dates {
  font-family: var(--font-body);
  font-size: 1.2rem;
  color: rgba(245,240,232,0.5);
  letter-spacing: 0.3em;
  margin-bottom: 2rem;
}
.hero-quote {
  font-family: var(--font-body);
  font-style: italic;
  font-size: clamp(1rem, 2vw, 1.3rem);
  color: rgba(245,240,232,0.6);
  max-width: 600px;
  line-height: 1.8;
}
.scroll-indicator {
  position: absolute;
  bottom: 2rem;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1;
  animation: bounce 2s infinite;
}
.scroll-indicator span {
  display: block;
  width: 2px; height: 40px;
  background: linear-gradient(to bottom, var(--color-gold), transparent);
  margin: 0 auto;
}

/* ═══ SECTION SHARED STYLES ═══ */
section {
  padding: 6rem 2rem;
  max-width: 1200px;
  margin: 0 auto;
}
.section-label {
  font-family: var(--font-body);
  font-size: 0.85rem;
  letter-spacing: 0.4em;
  text-transform: uppercase;
  color: var(--color-gold);
  opacity: 0.7;
  margin-bottom: 0.5rem;
}
.section-title {
  font-family: var(--font-display);
  font-size: clamp(2rem, 5vw, 3.5rem);
  font-weight: 400;
  color: var(--color-gold);
  margin-bottom: 1rem;
  line-height: 1.2;
}
.section-intro {
  font-family: var(--font-body);
  font-style: italic;
  font-size: 1.2rem;
  color: rgba(245,240,232,0.7);
  max-width: 700px;
  margin-bottom: 3rem;
  line-height: 1.8;
}
.gold-line {
  width: 60px; height: 1px;
  background: var(--color-gold);
  margin: 2rem 0;
  opacity: 0.5;
}

/* ═══ DAS LEBEN (Biography) ═══ */
#das-leben {
  border-top: 1px solid rgba(201,168,76,0.1);
}
.bio-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 3rem;
  margin-top: 2rem;
}
.milestone {
  padding: 2rem;
  border-left: 2px solid rgba(201,168,76,0.2);
  transition: border-color 0.4s, transform 0.4s;
  opacity: 0;
  transform: translateY(30px);
}
.milestone.visible {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}
.milestone:hover { border-color: var(--color-gold); }
.milestone-year {
  font-family: var(--font-display);
  font-size: 2rem;
  color: var(--color-gold);
  margin-bottom: 0.5rem;
}
.milestone-title {
  font-family: var(--font-display);
  font-size: 1.2rem;
  color: var(--color-ivory);
  margin-bottom: 0.5rem;
}
.milestone-text {
  font-family: var(--font-body);
  font-size: 1rem;
  color: rgba(245,240,232,0.6);
  line-height: 1.7;
}

/* ═══ DAS WERK (Discography Dots) ═══ */
#das-werk {
  border-top: 1px solid rgba(201,168,76,0.1);
  text-align: center;
}
.werk-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  margin-bottom: 3rem;
  flex-wrap: wrap;
}
.stat-item .stat-number {
  font-family: var(--font-display);
  font-size: 3rem;
  color: var(--color-gold);
  display: block;
}
.stat-item .stat-label {
  font-family: var(--font-body);
  font-size: 0.9rem;
  color: rgba(245,240,232,0.5);
  letter-spacing: 0.1em;
  text-transform: uppercase;
}
.dot-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 6px;
  max-width: 900px;
  margin: 0 auto 2rem;
  padding: 2rem;
}
.cd-dot {
  width: 12px; height: 12px;
  border-radius: 50%;
  cursor: pointer;
  transition: transform 0.3s, box-shadow 0.3s;
  position: relative;
}
.cd-dot:hover {
  transform: scale(2);
  box-shadow: 0 0 15px currentColor;
  z-index: 10;
}
.cd-dot[data-cat="cantatas"] { background: var(--color-gold); }
.cd-dot[data-cat="passions"] { background: var(--color-rose); }
.cd-dot[data-cat="oratorios"] { background: var(--color-sage); }
.cd-dot[data-cat="masses"] { background: var(--color-amethyst); }
.cd-dot[data-cat="instrumental"] { background: var(--color-amber); }
.cd-dot[data-cat="organ"] { background: var(--color-steel); }
.dot-tooltip {
  display: none;
  position: absolute;
  bottom: calc(100% + 10px);
  left: 50%;
  transform: translateX(-50%);
  background: rgba(26,20,16,0.95);
  border: 1px solid rgba(201,168,76,0.3);
  padding: 0.75rem 1rem;
  border-radius: 4px;
  white-space: nowrap;
  font-family: var(--font-body);
  font-size: 0.85rem;
  color: var(--color-ivory);
  pointer-events: none;
  z-index: 100;
}
.cd-dot:hover .dot-tooltip { display: block; }
.dot-legend {
  display: flex;
  justify-content: center;
  gap: 1.5rem;
  flex-wrap: wrap;
  margin-top: 1rem;
}
.legend-item {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  font-family: var(--font-body);
  font-size: 0.85rem;
  color: rgba(245,240,232,0.5);
}
.legend-dot {
  width: 10px; height: 10px;
  border-radius: 50%;
}
.werk-link {
  display: inline-block;
  margin-top: 2rem;
  color: var(--color-gold);
  text-decoration: none;
  font-family: var(--font-body);
  font-size: 1.1rem;
  letter-spacing: 0.1em;
  border-bottom: 1px solid rgba(201,168,76,0.3);
  padding-bottom: 0.25rem;
  transition: border-color 0.3s;
}
.werk-link:hover { border-color: var(--color-gold); }

/* ═══ DIE ZEITREISE (Timeline) ═══ */
#die-zeitreise {
  border-top: 1px solid rgba(201,168,76,0.1);
}
.timeline {
  position: relative;
  padding: 2rem 0;
}
.timeline::before {
  content: '';
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  top: 0; bottom: 0;
  width: 2px;
  background: linear-gradient(to bottom, transparent, rgba(201,168,76,0.3), transparent);
}
.timeline-item {
  position: relative;
  width: 45%;
  padding: 1.5rem 2rem;
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.8s, transform 0.8s;
}
.timeline-item.visible {
  opacity: 1;
  transform: translateY(0);
}
.timeline-item:nth-child(odd) {
  margin-left: 0;
  text-align: right;
  padding-right: 3rem;
}
.timeline-item:nth-child(even) {
  margin-left: 55%;
  text-align: left;
  padding-left: 3rem;
}
.timeline-item::before {
  content: '';
  position: absolute;
  top: 2rem;
  width: 12px; height: 12px;
  background: var(--color-gold);
  border-radius: 50%;
  border: 2px solid var(--color-ink);
}
.timeline-item:nth-child(odd)::before { right: -6px; }
.timeline-item:nth-child(even)::before { left: -6px; }
.timeline-year {
  font-family: var(--font-display);
  font-size: 1.5rem;
  color: var(--color-gold);
  margin-bottom: 0.3rem;
}
.timeline-event {
  font-family: var(--font-display);
  font-size: 1.1rem;
  color: var(--color-ivory);
  margin-bottom: 0.3rem;
}
.timeline-desc {
  font-family: var(--font-body);
  font-size: 0.95rem;
  color: rgba(245,240,232,0.5);
  line-height: 1.6;
}

/* ═══ DIE WELT (World Teaser) ═══ */
#die-welt {
  border-top: 1px solid rgba(201,168,76,0.1);
  text-align: center;
  padding: 8rem 2rem;
}
.world-teaser {
  position: relative;
  max-width: 800px;
  margin: 0 auto;
}
.world-stats {
  display: flex;
  justify-content: center;
  gap: 4rem;
  margin: 3rem 0;
  flex-wrap: wrap;
}
.world-stat .stat-big {
  font-family: var(--font-display);
  font-size: 3.5rem;
  color: var(--color-gold);
  display: block;
}
.world-stat .stat-text {
  font-family: var(--font-body);
  font-size: 1rem;
  color: rgba(245,240,232,0.5);
}
.cta-button {
  display: inline-block;
  margin-top: 2rem;
  padding: 1rem 2.5rem;
  font-family: var(--font-body);
  font-size: 1.1rem;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--color-gold);
  background: transparent;
  border: 1px solid rgba(201,168,76,0.4);
  text-decoration: none;
  transition: all 0.4s;
  cursor: pointer;
}
.cta-button:hover {
  background: rgba(201,168,76,0.1);
  border-color: var(--color-gold);
}

/* ═══ EINLADUNG ═══ */
#einladung {
  border-top: 1px solid rgba(201,168,76,0.1);
  text-align: center;
  padding: 8rem 2rem;
}
.einladung-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  max-width: 900px;
  margin: 3rem auto 0;
}
.einladung-card {
  padding: 2rem;
  border: 1px solid rgba(201,168,76,0.15);
  transition: all 0.4s;
  text-decoration: none;
  color: inherit;
  display: block;
}
.einladung-card:hover {
  border-color: var(--color-gold);
  background: rgba(201,168,76,0.03);
  transform: translateY(-4px);
}
.einladung-icon {
  font-size: 2rem;
  margin-bottom: 1rem;
  display: block;
  color: var(--color-gold);
  font-family: var(--font-display);
}
.einladung-card h3 {
  font-family: var(--font-display);
  font-size: 1.2rem;
  color: var(--color-gold);
  margin-bottom: 0.5rem;
  font-weight: 400;
}
.einladung-card p {
  font-family: var(--font-body);
  font-size: 0.95rem;
  color: rgba(245,240,232,0.5);
  line-height: 1.6;
}

/* ═══ CODA ═══ */
#coda {
  border-top: 1px solid rgba(201,168,76,0.1);
  text-align: center;
  padding: 8rem 2rem;
}
.sdg {
  font-family: var(--font-display);
  font-size: clamp(2rem, 6vw, 4rem);
  font-weight: 900;
  color: var(--color-gold);
  letter-spacing: 0.3em;
  margin-bottom: 1rem;
  text-shadow: 0 0 40px rgba(201,168,76,0.3);
}
.sdg-full {
  font-family: var(--font-body);
  font-style: italic;
  font-size: 1.2rem;
  color: rgba(245,240,232,0.5);
  margin-bottom: 3rem;
}
.footer-nav {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 1.5rem;
  margin: 3rem 0;
  padding: 2rem 0;
  border-top: 1px solid rgba(201,168,76,0.1);
  border-bottom: 1px solid rgba(201,168,76,0.1);
}
.footer-nav a {
  color: rgba(245,240,232,0.4);
  text-decoration: none;
  font-family: var(--font-body);
  font-size: 0.9rem;
  letter-spacing: 0.05em;
  transition: color 0.3s;
}
.footer-nav a:hover { color: var(--color-gold); }
.copyright {
  font-family: var(--font-body);
  font-size: 0.8rem;
  color: rgba(245,240,232,0.25);
  margin-top: 2rem;
}
.streaming-section {
  margin: 2rem 0;
}
.streaming-label {
  font-family: var(--font-body);
  font-size: 0.85rem;
  color: rgba(201,168,76,0.5);
  letter-spacing: 0.2em;
  text-transform: uppercase;
  margin-bottom: 0.8rem;
}
.streaming-links {
  display: flex;
  justify-content: center;
  gap: 0.6rem;
  flex-wrap: wrap;
}
.listen-link {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.5rem 1.2rem;
  font-family: var(--font-body);
  font-size: 0.9rem;
  color: var(--color-gold);
  background: transparent;
  border: 1px solid rgba(201,168,76,0.3);
  border-radius: 3px;
  text-decoration: none;
  transition: all 0.3s;
  letter-spacing: 0.04em;
}
.listen-link:hover {
  background: rgba(201,168,76,0.1);
  border-color: var(--color-gold);
}

/* ═══ AMBIENT SOUND TOGGLE ═══ */
.sound-toggle {
  position: fixed;
  bottom: 2rem;
  left: 2rem;
  z-index: 999;
  width: 48px; height: 48px;
  background: rgba(26,20,16,0.8);
  border: 1px solid rgba(201,168,76,0.3);
  border-radius: 50%;
  color: var(--color-gold);
  font-size: 1.2rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s;
  backdrop-filter: blur(10px);
}
.sound-toggle:hover {
  border-color: var(--color-gold);
  background: rgba(201,168,76,0.1);
}
.sound-toggle .tooltip {
  position: absolute;
  left: calc(100% + 10px);
  white-space: nowrap;
  font-family: var(--font-body);
  font-size: 0.8rem;
  color: rgba(245,240,232,0.5);
  opacity: 0;
  transition: opacity 0.3s;
  pointer-events: none;
}
.sound-toggle:hover .tooltip { opacity: 1; }

/* ═══ ANIMATIONS ═══ */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes bounce {
  0%, 100% { transform: translateX(-50%) translateY(0); }
  50% { transform: translateX(-50%) translateY(10px); }
}
@keyframes pulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

/* ═══ RESPONSIVE ═══ */
@media (max-width: 768px) {
  nav .nav-links { display: none; }
  nav .nav-links.open {
    display: flex;
    flex-direction: column;
    position: absolute;
    top: 100%; left: 0; right: 0;
    background: rgba(26,20,16,0.97);
    padding: 1rem 2rem;
    gap: 0.8rem;
  }
  .menu-toggle { display: block; }
  .bio-grid { grid-template-columns: 1fr; }
  .timeline-item { width: 85% !important; margin-left: 15% !important; text-align: left !important; padding-left: 2rem !important; padding-right: 0 !important; }
  .timeline-item::before { left: -6px !important; right: auto !important; }
  .timeline::before { left: 0; }
  section { padding: 4rem 1.5rem; }
  .world-stats { gap: 2rem; }
  .werk-stats { gap: 1.5rem; }
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
</style>
</head>
<body>

<!-- ═══ NAVIGATION ═══ -->
<nav id="main-nav" role="navigation" aria-label="Hauptnavigation">
  <a href="#overture" class="logo">Klangkathedrale</a>
  <button class="menu-toggle" aria-label="Menü öffnen" onclick="document.querySelector('.nav-links').classList.toggle('open')">&#9776;</button>
  <div class="nav-links">
    <a href="#das-leben">Das Leben</a>
    <a href="#das-werk">Das Werk</a>
    <a href="#die-zeitreise">Zeitreise</a>
    <a href="orgel.html">Orgel</a>
    <a href="kathedrale.html">Kathedrale</a>
    <a href="stimmen.html">Stimmen</a>
  </div>
</nav>

<!-- ═══ OVERTURE ═══ -->
<section id="overture" aria-label="Overture">
  <canvas id="particle-canvas" aria-hidden="true"></canvas>
  <div class="hero-content">
    <div class="hero-overline">Ein digitales Denkmal</div>
    <h1 class="hero-title">Klangkathedrale</h1>
    <div class="hero-subtitle">Helmuth Rilling</div>
    <div class="hero-dates">1933 &mdash; 2026</div>
    <p class="hero-quote">
      &bdquo;Musik muss die Menschen aufschrecken<br>
      und tief in sie hineingehen.&ldquo;
    </p>
  </div>
  <div class="scroll-indicator" aria-hidden="true"><span></span></div>
</section>

<!-- ═══ DAS LEBEN ═══ -->
<section id="das-leben" aria-label="Das Leben — Biografie">
  <div class="section-label">Kapitel I</div>
  <h2 class="section-title">Das Leben</h2>
  <p class="section-intro">
    Neun Jahrzehnte im Dienst der Musik. Ein Leben, das Johann Sebastian Bachs Erbe
    von Stuttgart in die ganze Welt trug.
  </p>
  <div class="bio-grid">
    <div class="milestone" data-reveal>
      <div class="milestone-year">1933</div>
      <div class="milestone-title">Geboren in Stuttgart</div>
      <p class="milestone-text">Am 29. Mai 1933 wird Helmuth Rilling in Stuttgart geboren. Die Musik umgibt ihn von Kindheit an — sein Vater ist Kirchenmusiker.</p>
    </div>
    <div class="milestone" data-reveal>
      <div class="milestone-year">1954</div>
      <div class="milestone-title">Gründung der Gächinger Kantorei</div>
      <p class="milestone-text">Mit nur 21 Jahren gründet Rilling die Gächinger Kantorei — den Chor, der sein künstlerisches Lebenswerk begleiten wird. Ein Ensemble, das Geschichte schreibt.</p>
    </div>
    <div class="milestone" data-reveal>
      <div class="milestone-year">1965</div>
      <div class="milestone-title">Professor in Frankfurt</div>
      <p class="milestone-text">Berufung als Professor an die Frankfurter Musikhochschule. Hier beginnt seine Karriere als Lehrer, die Generationen von Dirigenten prägen wird.</p>
    </div>
    <div class="milestone" data-reveal>
      <div class="milestone-year">1967</div>
      <div class="milestone-title">Studium bei Leonard Bernstein</div>
      <p class="milestone-text">In New York studiert Rilling bei Leonard Bernstein — eine Begegnung zweier musikalischer Welten, die sein Verständnis von Interpretation vertieft.</p>
    </div>
    <div class="milestone" data-reveal>
      <div class="milestone-year">1970</div>
      <div class="milestone-title">Oregon Bach Festival</div>
      <p class="milestone-text">Rilling gründet das Oregon Bach Festival in Eugene — eine Brücke zwischen Europa und Amerika, die 43 Jahre lang Musik und Menschen verbindet.</p>
    </div>
    <div class="milestone" data-reveal>
      <div class="milestone-year">1981</div>
      <div class="milestone-title">Internationale Bachakademie</div>
      <p class="milestone-text">Gründung der Internationalen Bachakademie Stuttgart — eine Institution, die weltweit einzigartig ist in ihrer Verbindung von Aufführung, Forschung und Pädagogik.</p>
    </div>
    <div class="milestone" data-reveal>
      <div class="milestone-year">1999</div>
      <div class="milestone-title">Bachs Gesamtwerk vollendet</div>
      <p class="milestone-text">Als erster und bisher einziger Dirigent nimmt Helmuth Rilling das vollständige Werk Johann Sebastian Bachs auf — 172 CDs. Eine Leistung ohne Parallele.</p>
    </div>
    <div class="milestone" data-reveal>
      <div class="milestone-year">2026</div>
      <div class="milestone-title">Soli Deo Gloria</div>
      <p class="milestone-text">Am 5. Februar 2026 verstummt die Musik. Helmuth Rilling hinterlässt ein Erbe, das in Hunderten von Aufnahmen, Tausenden von Schülern und einer ganzen Welt der Bach-Pflege weiterlebt.</p>
    </div>
  </div>
</section>

<!-- ═══ DAS WERK ═══ -->
<section id="das-werk" aria-label="Das Werk — 172 CDs">
  <div class="section-label">Kapitel II</div>
  <h2 class="section-title">Das Werk</h2>
  <p class="section-intro" style="margin-left:auto;margin-right:auto;">
    172 CDs. Das vollständige Werk Johann Sebastian Bachs — eingespielt von einem einzigen Dirigenten.
    Eine Leistung, die in der Musikgeschichte ohne Beispiel ist.
  </p>
  <div class="werk-stats">
    <div class="stat-item">
      <span class="stat-number" data-count="172">0</span>
      <span class="stat-label">CDs</span>
    </div>
    <div class="stat-item">
      <span class="stat-number" data-count="1128">0</span>
      <span class="stat-label">Werke</span>
    </div>
    <div class="stat-item">
      <span class="stat-number" data-count="30">0</span>
      <span class="stat-label">Jahre Aufnahmen</span>
    </div>
  </div>
  <div class="dot-container" id="dot-container" aria-label="172 CDs visualisiert als Punkte">
    <!-- Dots generated by JS -->
  </div>
  <div class="dot-legend">
    <div class="legend-item"><span class="legend-dot" style="background:var(--color-gold)"></span> Kantaten</div>
    <div class="legend-item"><span class="legend-dot" style="background:var(--color-rose)"></span> Passionen</div>
    <div class="legend-item"><span class="legend-dot" style="background:var(--color-sage)"></span> Oratorien</div>
    <div class="legend-item"><span class="legend-dot" style="background:var(--color-amethyst)"></span> Messen</div>
    <div class="legend-item"><span class="legend-dot" style="background:var(--color-amber)"></span> Instrumental</div>
    <div class="legend-item"><span class="legend-dot" style="background:var(--color-steel)"></span> Orgelwerke</div>
  </div>
  <a href="universum.html" class="werk-link">Das Bachsche Universum erkunden &rarr;</a>
</section>

<!-- ═══ DIE ZEITREISE ═══ -->
<section id="die-zeitreise" aria-label="Die Zeitreise — Timeline">
  <div class="section-label">Kapitel III</div>
  <h2 class="section-title">Die Zeitreise</h2>
  <p class="section-intro">
    Von Stuttgart in die Welt. Neun Jahrzehnte Hingabe an die Musik Johann Sebastian Bachs.
  </p>
  <div class="timeline">
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">1933</div>
      <div class="timeline-event">Geburt in Stuttgart</div>
      <div class="timeline-desc">29. Mai — Ein Leben für die Musik beginnt</div>
    </div>
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">1946</div>
      <div class="timeline-event">Erste musikalische Studien</div>
      <div class="timeline-desc">Klavier, Orgel und Komposition in der Nachkriegszeit</div>
    </div>
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">1954</div>
      <div class="timeline-event">Gächinger Kantorei</div>
      <div class="timeline-desc">Gründung des Ensembles, das zur Weltspitze aufsteigt</div>
    </div>
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">1957</div>
      <div class="timeline-event">Studium in Rom</div>
      <div class="timeline-desc">Orgelstudium bei Fernando Germani an der Accademia di Santa Cecilia</div>
    </div>
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">1965</div>
      <div class="timeline-event">Professur Frankfurt</div>
      <div class="timeline-desc">Berufung an die Hochschule für Musik und Darstellende Kunst</div>
    </div>
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">1967</div>
      <div class="timeline-event">New York — Bernstein</div>
      <div class="timeline-desc">Studien bei Leonard Bernstein, Begegnung mit der amerikanischen Musikwelt</div>
    </div>
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">1970</div>
      <div class="timeline-event">Oregon Bach Festival</div>
      <div class="timeline-desc">Gründung des Festivals in Eugene — 43 Jahre ununterbrochene Leitung</div>
    </div>
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">1975</div>
      <div class="timeline-event">Bach-Collegium Stuttgart</div>
      <div class="timeline-desc">Gründung des Orchesters als Partner der Gächinger Kantorei</div>
    </div>
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">1981</div>
      <div class="timeline-event">Bachakademie Stuttgart</div>
      <div class="timeline-desc">Gründung der weltweit einzigen Institution dieser Art</div>
    </div>
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">1985</div>
      <div class="timeline-event">Beginn der Gesamtaufnahme</div>
      <div class="timeline-desc">Das monumentale Projekt: Alle Werke Bachs auf CD</div>
    </div>
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">1994</div>
      <div class="timeline-event">UNESCO-Musikpreis</div>
      <div class="timeline-desc">Internationale Anerkennung für sein Lebenswerk</div>
    </div>
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">1999</div>
      <div class="timeline-event">172 CDs — Gesamtwerk</div>
      <div class="timeline-desc">Vollendung der Bach-Gesamteinspielung — eine historische Leistung</div>
    </div>
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">2001</div>
      <div class="timeline-event">Grammy Award</div>
      <div class="timeline-desc">Für die Einspielung von Bachs Matthäus-Passion</div>
    </div>
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">2011</div>
      <div class="timeline-event">Herbert von Karajan-Preis</div>
      <div class="timeline-desc">Höchste Auszeichnung für dirigentische Leistung</div>
    </div>
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">2013</div>
      <div class="timeline-event">Abschied von Oregon</div>
      <div class="timeline-desc">Letzte Saison als Leiter des Oregon Bach Festival nach 43 Jahren</div>
    </div>
    <div class="timeline-item" data-reveal>
      <div class="timeline-year">2026</div>
      <div class="timeline-event">S.D.G.</div>
      <div class="timeline-desc">5. Februar — Soli Deo Gloria. Die Musik lebt weiter.</div>
    </div>
  </div>
</section>

<!-- ═══ DIE WELT ═══ -->
<section id="die-welt" aria-label="Die Welt">
  <div class="section-label">Kapitel IV</div>
  <h2 class="section-title">Die Welt</h2>
  <p class="section-intro" style="margin-left:auto;margin-right:auto;">
    &bdquo;Die Musik kennt keine Grenzen.&ldquo; — Von Stuttgart über sechs Kontinente:
    Helmuth Rillings globales Wirken.
  </p>
  <div class="world-teaser">
    <div class="world-stats">
      <div class="world-stat">
        <span class="stat-big">30+</span>
        <span class="stat-text">Länder</span>
      </div>
      <div class="world-stat">
        <span class="stat-big">6</span>
        <span class="stat-text">Kontinente</span>
      </div>
      <div class="world-stat">
        <span class="stat-big">100+</span>
        <span class="stat-text">Konzerte in Israel</span>
      </div>
    </div>
    <a href="weltkarte.html" class="cta-button">Die Weltkarte erkunden</a>
  </div>
</section>

<!-- ═══ EINLADUNG ═══ -->
<section id="einladung" aria-label="Einladung — Erleben Sie die Klangkathedrale">
  <div class="section-label">Einladung</div>
  <h2 class="section-title">Erleben Sie die Klangkathedrale</h2>
  <p class="section-intro" style="margin-left:auto;margin-right:auto;">
    Treten Sie ein. Jeder Raum dieser digitalen Kathedrale öffnet ein neues Kapitel
    von Helmuth Rillings Vermächtnis.
  </p>
  <div class="einladung-grid">
    <a href="orgel.html" class="einladung-card">
      <span class="einladung-icon">&#9835;</span>
      <h3>Die Orgel</h3>
      <p>Spielen Sie Bach auf einer interaktiven Kirchenorgel — mit Ihren eigenen Fingern.</p>
    </a>
    <a href="kathedrale.html" class="einladung-card">
      <span class="einladung-icon">&#9960;</span>
      <h3>Die Kathedrale</h3>
      <p>Durchschreiten Sie eine virtuelle gotische Kathedrale in 3D.</p>
    </a>
    <a href="fugenmaschine.html" class="einladung-card">
      <span class="einladung-icon">&#10042;</span>
      <h3>Die Fugenmaschine</h3>
      <p>Generative Kunst, die Bachs Fugenstruktur in lebendige Bilder verwandelt.</p>
    </a>
    <a href="partitur.html" class="einladung-card">
      <span class="einladung-icon">&#9838;</span>
      <h3>Die Partitur</h3>
      <p>Beobachten Sie, wie Bachs Noten vor Ihren Augen entstehen.</p>
    </a>
    <a href="entdecke-bach.html" class="einladung-card">
      <span class="einladung-icon">&#10024;</span>
      <h3>Entdecke Bach</h3>
      <p>Ihre persönliche Reise durch Bachs Musik — empfohlen im Geist Rillings.</p>
    </a>
    <a href="brief.html" class="einladung-card">
      <span class="einladung-icon">&#9993;</span>
      <h3>Brief an die Zukunft</h3>
      <p>Ein digitales Gedicht — eine Hommage in sieben Strophen.</p>
    </a>
  </div>
</section>

<!-- ═══ CODA ═══ -->
<section id="coda" aria-label="Coda">
  <div class="sdg">S. D. G.</div>
  <div class="sdg-full">Soli Deo Gloria</div>
  <p style="font-family:var(--font-body);font-style:italic;font-size:1.1rem;color:rgba(245,240,232,0.5);max-width:500px;margin:0 auto 3rem;line-height:1.8;">
    Helmuth Rilling widmete sein Leben der Musik Johann Sebastian Bachs.<br>
    Diese Klangkathedrale ist sein digitales Denkmal.
  </p>
  <div class="gold-line" style="margin:2rem auto"></div>
  <div class="footer-nav" role="navigation" aria-label="Fußnavigation">
    <a href="orgel.html">Orgel</a>
    <a href="kathedrale.html">Kathedrale</a>
    <a href="universum.html">Universum</a>
    <a href="fugenmaschine.html">Fugenmaschine</a>
    <a href="partitur.html">Partitur</a>
    <a href="entdecke-bach.html">Entdecke Bach</a>
    <a href="weltkarte.html">Weltkarte</a>
    <a href="infografik.html">Infografik</a>
    <a href="brief.html">Brief</a>
    <a href="stimmen.html">Stimmen</a>
    <a href="netzwerk.html">Netzwerk</a>
    <a href="architektur.html">Architektur</a>
  </div>
  <div class="streaming-section">
    <p class="streaming-label">Rillings Aufnahmen h&ouml;ren</p>
    <div class="streaming-links">
      <a href="https://www.youtube.com/results?search_query=Helmuth+Rilling+Bach+Gesamtaufnahme" target="_blank" rel="noopener" class="listen-link">&#9835; YouTube</a>
      <a href="https://open.spotify.com/search/Helmuth%20Rilling%20Bach" target="_blank" rel="noopener" class="listen-link">&#9835; Spotify</a>
      <a href="https://music.amazon.com/search/Helmuth+Rilling+Bach" target="_blank" rel="noopener" class="listen-link">&#9835; Amazon Music</a>
    </div>
  </div>
  <p class="copyright">&copy; 2026 Klangkathedrale — Ein Projekt der Erinnerung</p>
</section>

<!-- ═══ SOUND TOGGLE ═══ -->
<button class="sound-toggle" id="sound-toggle" aria-label="Klang ein/ausschalten" title="Klangkathedrale erleben">
  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
    <path d="M11 5L6 9H2v6h4l5 4V5z" id="speaker-body"/>
    <path d="M15.54 8.46a5 5 0 010 7.07" id="sound-wave1" opacity="0.4"/>
    <path d="M19.07 4.93a10 10 0 010 14.14" id="sound-wave2" opacity="0.4"/>
  </svg>
  <span class="tooltip">Klangkathedrale erleben</span>
</button>

<script type="module">
import { Particle } from './src/lib/klangkathedrale.js';
// ═══ PARTICLE BACKGROUND ═══
(function() {
  const canvas = document.getElementById('particle-canvas');
  const ctx = canvas.getContext('2d');
  let particles = [];
  let w, h;
  const GOLD = [201, 168, 76];

  function resize() {
    w = canvas.width = canvas.offsetWidth;
    h = canvas.height = canvas.offsetHeight;
  }
  resize();
  window.addEventListener('resize', resize);

  // Particle class imported from src/lib/klangkathedrale.js
  // Wrap update to keep w/h in sync on resize
  function createParticle() {
    return new Particle(w, h);
  }

  const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  const count = prefersReducedMotion ? 30 : 120;
  for (let i = 0; i < count; i++) particles.push(createParticle());

  function animate() {
    ctx.clearRect(0, 0, w, h);
    // Connections
    for (let i = 0; i < particles.length; i++) {
      for (let j = i + 1; j < particles.length; j++) {
        const dx = particles[i].x - particles[j].x;
        const dy = particles[i].y - particles[j].y;
        const dist = Math.sqrt(dx * dx + dy * dy);
        if (dist < 120) {
          ctx.beginPath();
          ctx.moveTo(particles[i].x, particles[i].y);
          ctx.lineTo(particles[j].x, particles[j].y);
          ctx.strokeStyle = `rgba(${GOLD[0]},${GOLD[1]},${GOLD[2]},${0.06 * (1 - dist / 120)})`;
          ctx.stroke();
        }
      }
    }
    particles.forEach(p => { p.update(); p.draw(ctx, GOLD); });
    requestAnimationFrame(animate);
  }
  animate();
})();

// ═══ SCROLL REVEAL ═══
(function() {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, { threshold: 0.15, rootMargin: '0px 0px -50px 0px' });

  document.querySelectorAll('[data-reveal]').forEach(el => observer.observe(el));
})();

// ═══ NAV SCROLL EFFECT ═══
(function() {
  const nav = document.getElementById('main-nav');
  window.addEventListener('scroll', () => {
    nav.classList.toggle('scrolled', window.scrollY > 80);
  });
})();

// ═══ COUNTER ANIMATION ═══
(function() {
  const counters = document.querySelectorAll('[data-count]');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && !entry.target.dataset.animated) {
        entry.target.dataset.animated = 'true';
        const target = parseInt(entry.target.dataset.count);
        let current = 0;
        const duration = 2000;
        const step = target / (duration / 16);
        function tick() {
          current += step;
          if (current >= target) {
            entry.target.textContent = target;
          } else {
            entry.target.textContent = Math.floor(current);
            requestAnimationFrame(tick);
          }
        }
        tick();
      }
    });
  }, { threshold: 0.5 });
  counters.forEach(c => observer.observe(c));
})();

// ═══ DISCOGRAPHY DOTS ═══
(function() {
  const container = document.getElementById('dot-container');
  const cds = [
    // Cantatas (largest group ~60)
    ...Array.from({length: 60}, (_, i) => ({cat: 'cantatas', title: `Kantate BWV ${i + 1}`, year: 1970 + Math.floor(i * 0.5)})),
    // Passions (5)
    {cat: 'passions', title: 'Matthäus-Passion BWV 244', year: 1978},
    {cat: 'passions', title: 'Johannes-Passion BWV 245', year: 1980},
    {cat: 'passions', title: 'Markus-Passion BWV 247', year: 1985},
    {cat: 'passions', title: 'Lukas-Passion BWV 246', year: 1985},
    {cat: 'passions', title: 'Matthäus-Passion (Neuaufnahme)', year: 1998},
    // Oratorios (8)
    {cat: 'oratorios', title: 'Weihnachtsoratorium BWV 248', year: 1983},
    {cat: 'oratorios', title: 'Osteroratorium BWV 249', year: 1984},
    {cat: 'oratorios', title: 'Himmelfahrtsoratorium BWV 11', year: 1984},
    ...Array.from({length: 5}, (_, i) => ({cat: 'oratorios', title: `Oratorium ${i + 4}`, year: 1985 + i})),
    // Masses (12)
    {cat: 'masses', title: 'H-Moll-Messe BWV 232', year: 1977},
    ...Array.from({length: 11}, (_, i) => ({cat: 'masses', title: `Messe BWV ${233 + i}`, year: 1980 + i})),
    // Instrumental (55)
    {cat: 'instrumental', title: 'Brandenburgische Konzerte BWV 1046-1051', year: 1978},
    {cat: 'instrumental', title: 'Orchestrsuiten BWV 1066-1069', year: 1980},
    {cat: 'instrumental', title: 'Goldberg-Variationen BWV 988', year: 1985},
    {cat: 'instrumental', title: 'Wohltemperiertes Klavier I', year: 1988},
    {cat: 'instrumental', title: 'Musikalisches Opfer BWV 1079', year: 1990},
    {cat: 'instrumental', title: 'Kunst der Fuge BWV 1080', year: 1992},
    ...Array.from({length: 49}, (_, i) => ({cat: 'instrumental', title: `Instrumentalwerk ${i + 7}`, year: 1978 + Math.floor(i * 0.45)})),
    // Organ (32)
    ...Array.from({length: 32}, (_, i) => ({cat: 'organ', title: `Orgelwerk BWV ${525 + i}`, year: 1985 + Math.floor(i * 0.5)})),
  ];

  cds.forEach(cd => {
    const dot = document.createElement('div');
    dot.className = 'cd-dot';
    dot.dataset.cat = cd.cat;
    dot.setAttribute('role', 'button');
    dot.setAttribute('tabindex', '0');
    dot.setAttribute('aria-label', cd.title);
    const tooltip = document.createElement('div');
    tooltip.className = 'dot-tooltip';
    tooltip.textContent = `${cd.title} (${cd.year})`;
    dot.appendChild(tooltip);
    container.appendChild(dot);
  });
})();

// ═══ AMBIENT SOUNDSCAPE (Web Audio) ═══
(function() {
  const toggle = document.getElementById('sound-toggle');
  const wave1 = document.getElementById('sound-wave1');
  const wave2 = document.getElementById('sound-wave2');
  let audioCtx = null;
  let isPlaying = false;
  let masterGain = null;
  let oscillators = [];

  const sectionKeys = {
    overture: [246.94, 293.66, 369.99],     // B minor
    'das-leben': [293.66, 369.99, 440],       // D major
    'das-werk': [196, 246.94, 293.66],        // G major
    'die-zeitreise': [164.81, 196, 246.94],   // E minor
    'die-welt': [261.63, 329.63, 392],        // C major
    einladung: [174.61, 220, 261.63],          // F major
    coda: [246.94, 293.66, 369.99]             // B minor
  };
  let currentChord = sectionKeys.overture;

  function createAudio() {
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    masterGain = audioCtx.createGain();
    masterGain.gain.value = 0;
    masterGain.connect(audioCtx.destination);

    // Create reverb
    const convolver = audioCtx.createConvolver();
    const rate = audioCtx.sampleRate;
    const length = rate * 2.5;
    const impulse = audioCtx.createBuffer(2, length, rate);
    for (let ch = 0; ch < 2; ch++) {
      const data = impulse.getChannelData(ch);
      for (let i = 0; i < length; i++) {
        data[i] = (Math.random() * 2 - 1) * Math.pow(1 - i / length, 2.5);
      }
    }
    convolver.buffer = impulse;
    const reverbGain = audioCtx.createGain();
    reverbGain.gain.value = 0.3;
    convolver.connect(reverbGain);
    reverbGain.connect(masterGain);

    // Create 4 oscillators
    for (let i = 0; i < 4; i++) {
      const osc = audioCtx.createOscillator();
      const gain = audioCtx.createGain();
      osc.type = 'sine';
      osc.frequency.value = currentChord[i % 3] * (0.998 + Math.random() * 0.004);
      gain.gain.value = 0.015;
      osc.connect(gain);
      gain.connect(masterGain);
      gain.connect(convolver);
      osc.start();
      oscillators.push({osc, gain});
    }
  }

  function updateChord(freqs) {
    if (!audioCtx || !oscillators.length) return;
    const now = audioCtx.currentTime;
    oscillators.forEach((o, i) => {
      o.osc.frequency.linearRampToValueAtTime(freqs[i % 3] * (0.998 + Math.random() * 0.004), now + 8);
    });
    currentChord = freqs;
  }

  // Section observer
  const sectionObs = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && isPlaying) {
        const id = entry.target.id;
        if (sectionKeys[id]) updateChord(sectionKeys[id]);
      }
    });
  }, {threshold: 0.4});
  document.querySelectorAll('section[id]').forEach(s => sectionObs.observe(s));

  toggle.addEventListener('click', () => {
    if (!audioCtx) createAudio();
    if (audioCtx.state === 'suspended') audioCtx.resume();
    isPlaying = !isPlaying;
    const now = audioCtx.currentTime;
    masterGain.gain.linearRampToValueAtTime(isPlaying ? 1 : 0, now + 1.5);
    wave1.style.opacity = isPlaying ? '1' : '0.4';
    wave2.style.opacity = isPlaying ? '1' : '0.4';
    toggle.setAttribute('aria-label', isPlaying ? 'Klang ausschalten' : 'Klang einschalten');
  });
})();

// ═══ SERVICE WORKER ═══
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js').catch(() => {});
}
</script>
</body>
</html>
